media:
  input: public/assets/uploads
  output: /assets/uploads

content:
  # -------------------------
  # Posts (Markdown)
  # -------------------------
  - name: posts
    label: Posts
    type: collection
    path: content/posts
    filename: "{slug}.md"
    view:
      fields: [title, date, category, breaking, editor_pick]
      sort: [date]
      default:
        sort: date
        order: desc
    fields:
      - name: title
        label: Title (Arabic)
        type: string
        required: true

      - name: slug
        label: Slug (latin)
        type: string
        required: true
        description: "Used for the URL: /news/{slug}"
        pattern:
          regex: "^[a-z0-9]+(?:-[a-z0-9]+)*$"
          message: "Use lowercase latin letters, numbers, and dashes only (example: beirut-news)."

      - name: date
        label: Date & Time
        type: date
        required: true
        options:
          time: true

      - name: description
        label: SEO Description
        type: text
        required: true

      - name: category
        label: Category
        type: select
        required: true
        options:
          values:
            - value: lebanon
              label: "لبنان"
            - value: world
              label: "العالم"
            - value: economy
              label: "اقتصاد"
            - value: analysis
              label: "تحليلات"
            - value: editorial
              label: "زاوية المحرّر"

      - name: author
        label: Author
        type: reference
        required: true
        options:
          collection: authors
          search: display_name
          value: name
          label: display_name

      - name: featured_image
        label: Featured Image
        type: image
        required: true

      - name: tags
        label: Tags
        type: reference
        required: false
        options:
          collection: tags
          multiple: true
          search: display_name
          value: name
          label: display_name

      - name: hero
        label: Show in Hero
        type: boolean
        default: false

      - name: breaking
        label: Breaking News (Ticker)
        type: boolean
        default: false

      - name: breaking_text
        label: Breaking Ticker Text
        type: text
        required: false
        hint: "Optional short text for ticker. Falls back to title if empty."

      - name: editor_pick
        label: Editor Pick (مختارات المحرّر)
        type: boolean
        default: false

      - name: editor_pick_order
        label: Editor Pick Order
        type: number
        required: false
        hint: "Optional. Lower numbers appear first (1 = top)."

      - name: body
        label: Article Body
        type: rich-text
        required: true

  # -------------------------
  # Authors (JSON)
  # filename uses latin ID stored in `name`
  # display_name is Arabic label shown in dropdown
  # -------------------------
  - name: authors
    label: Authors
    type: collection
    path: content/data/authors
    filename: "{name}.json"
    fields:
      - name: name
        label: ID (latin)
        type: string
        required: true
        description: "Used for filename. Example: elie-cherfan"
        pattern:
          regex: "^[a-z0-9]+(?:-[a-z0-9]+)*$"
          message: "Use lowercase latin letters, numbers, and dashes only. Replace spaces with -"

      - name: display_name
        label: Name (Arabic)
        type: string
        required: true

      - name: role
        label: Role
        type: string
        required: false

      - name: avatar
        label: Avatar
        type: image
        required: false

  # -------------------------
  # Tags (JSON)
  # filename uses latin ID stored in `name`
  # display_name is Arabic label shown in dropdown
  # -------------------------
  - name: tags
    label: Tags
    type: collection
    path: content/data/tags
    filename: "{name}.json"
    fields:
      - name: name
        label: ID (latin)
        type: string
        required: true
        description: "Used for filename. Example: beirut"
        pattern:
          regex: "^[a-z0-9]+(?:-[a-z0-9]+)*$"
          message: "Use lowercase latin letters, numbers, and dashes only. Replace spaces with -"

      - name: display_name
        label: Name (Arabic)
        type: string
        required: true

  # -------------------------
  # Homepage blocks (JSON)
  # -------------------------
  - name: homepage
    label: Homepage Layout
    type: file
    path: content/data/homepage.json
    fields:
      - name: blocks
        label: Blocks
        type: object
        list: true
        fields:
          - name: type
            label: Block Type
            type: select
            options:
              values:
                - value: categorySpotlight
                  label: categorySpotlight
                - value: threeCards
                  label: threeCards
                - value: horizontal
                  label: horizontal
                - value: textList
                  label: textList

          - name: title
            label: Title (Arabic)
            type: string
            required: true

          - name: slug
            label: Category Slug
            type: select
            options:
              values:
                - value: lebanon
                  label: lebanon
                - value: world
                  label: world
                - value: economy
                  label: economy
                - value: analysis
                  label: analysis
                - value: editorial
                  label: editorial

          - name: limit
            label: Limit
            type: number
            options:
              min: 1
              max: 12

  # -------------------------
  # Categories (JSON)
  # -------------------------
  - name: categories
    label: Categories
    type: file
    path: content/data/categories.json
    fields:
      - name: categories
        type: object
        list: true
        fields:
          - name: title
            label: Title (Arabic)
            type: string
          - name: slug
            label: Slug
            type: string

  # -------------------------
  # Site Contact (JSON)
  # -------------------------
  - name: site_contact
    label: Site Contact
    type: file
    path: lib/content/data/siteContact.json
    fields:
      - name: email
        type: string
      - name: whatsapp
        type: string
      - name: socials
        type: object
        fields:
          - { name: facebook, type: string }
          - { name: instagram, type: string }
          - { name: x, type: string }
          - { name: youtube, type: string }
          - { name: tiktok, type: string }
          - { name: linkedin, type: string }

  # -------------------------
  # Ads (JSON)
  # -------------------------
  - name: ads
    label: Ads
    type: file
    path: content/data/ads.json
    fields:
      - name: adsense
        type: object
        fields:
          - { name: enabled, type: boolean, default: false }
          - { name: client, type: string }

      - name: slots
        type: object
        list: true
        fields:
          - { name: id, type: string, required: true }
          - { name: enabled, type: boolean, default: true }
          - { name: label, type: string }
          - name: type
            type: select
            options:
              values:
                - value: custom
                  label: custom
                - value: adsense
                  label: adsense
          - name: custom
            type: object
            fields:
              - { name: image, type: image }
              - { name: href, type: string }
              - { name: alt, type: string }
              - { name: openInNewTab, type: boolean, default: true }
          - name: adsense
            type: object
            fields:
              - { name: slot, type: string }
              - { name: format, type: string }
              - { name: responsive, type: boolean, default: true }

settings:
  hide: true
  content:
    merge: true
